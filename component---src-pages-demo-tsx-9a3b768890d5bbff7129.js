"use strict";(self.webpackChunkgoogle_calendar_filter=self.webpackChunkgoogle_calendar_filter||[]).push([[514],{7047:function(e,t,n){n.d(t,{Z:function(){return o}});var a=function(){return a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)};Object.create;Object.create;var r=n(7294);function o(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={loading:!1});var o,c,i=(0,r.useRef)(0),u=(o=(0,r.useRef)(!1),c=(0,r.useCallback)((function(){return o.current}),[]),(0,r.useEffect)((function(){return o.current=!0,function(){o.current=!1}}),[]),c),l=(0,r.useState)(n),s=l[0],d=l[1],f=(0,r.useCallback)((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=++i.current;return s.loading||d((function(e){return a(a({},e),{loading:!0})})),e.apply(void 0,t).then((function(e){return u()&&r===i.current&&d({value:e,loading:!1}),e}),(function(e){return u()&&r===i.current&&d({error:e,loading:!1}),e}))}),t);return[s,f]}},8336:function(e,t,n){n.r(t),n.d(t,{default:function(){return K}});var a=n(7294),r=n(2982),o=n(5861),c=n(7757),i=n.n(c),u=n(5652),l=n(7047);var s=n(4942),d=n(3366),f=n(7462),m=n(9408),p=n(7663),h=n(885),v=n(5505),g=n(9240),b=n(8348),k=n(6127),w=n(8230),x=n(3679),Z=n(8416),y=n(2194);function C(e){return(0,Z.Z)("PrivateSwitchBase",e)}(0,y.Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var S=n(5893),D=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],E=(0,b.ZP)(x.Z)((function(e){var t=e.ownerState;return(0,f.Z)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),I=(0,b.ZP)("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),R=a.forwardRef((function(e,t){var n=e.autoFocus,a=e.checked,r=e.checkedIcon,o=e.className,c=e.defaultChecked,i=e.disabled,u=e.disableFocusRipple,l=void 0!==u&&u,s=e.edge,p=void 0!==s&&s,b=e.icon,x=e.id,Z=e.inputProps,y=e.inputRef,R=e.name,F=e.onBlur,j=e.onChange,z=e.onFocus,B=e.readOnly,O=e.required,P=e.tabIndex,N=e.type,T=e.value,M=(0,d.Z)(e,D),H=(0,k.Z)({controlled:a,default:Boolean(c),name:"SwitchBase",state:"checked"}),L=(0,h.Z)(H,2),q=L[0],G=L[1],V=(0,w.Z)(),_=i;V&&void 0===_&&(_=V.disabled);var A="checkbox"===N||"radio"===N,J=(0,f.Z)({},e,{checked:q,disabled:_,disableFocusRipple:l,edge:p}),K=function(e){var t=e.classes,n=e.checked,a=e.disabled,r=e.edge,o={root:["root",n&&"checked",a&&"disabled",r&&"edge".concat((0,g.Z)(r))],input:["input"]};return(0,m.Z)(o,C,t)}(J);return(0,S.jsxs)(E,(0,f.Z)({component:"span",className:(0,v.Z)(K.root,o),centerRipple:!0,focusRipple:!l,disabled:_,tabIndex:null,role:void 0,onFocus:function(e){z&&z(e),V&&V.onFocus&&V.onFocus(e)},onBlur:function(e){F&&F(e),V&&V.onBlur&&V.onBlur(e)},ownerState:J,ref:t},M,{children:[(0,S.jsx)(I,(0,f.Z)({autoFocus:n,checked:a,defaultChecked:c,className:K.input,disabled:_,id:A&&x,name:R,onChange:function(e){if(!e.nativeEvent.defaultPrevented){var t=e.target.checked;G(t),j&&j(e,t)}},readOnly:B,ref:y,required:O,ownerState:J,tabIndex:P,type:N},"checkbox"===N&&void 0===T?{}:{value:T},Z)),q?r:b]}))})),F=n(2067),j=(0,F.Z)((0,S.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),z=(0,F.Z)((0,S.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),B=(0,F.Z)((0,S.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),O=n(2371);function P(e){return(0,Z.Z)("MuiCheckbox",e)}var N=(0,y.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),T=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],M=(0,b.ZP)(R,{shouldForwardProp:function(e){return(0,b.FO)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.indeterminate&&t.indeterminate,"default"!==n.color&&t["color".concat((0,g.Z)(n.color))]]}})((function(e){var t,n=e.theme,a=e.ownerState;return(0,f.Z)({color:n.palette.text.secondary},!a.disableRipple&&{"&:hover":{backgroundColor:(0,p.Fq)("default"===a.color?n.palette.action.active:n.palette[a.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==a.color&&(t={},(0,s.Z)(t,"&.".concat(N.checked,", &.").concat(N.indeterminate),{color:n.palette[a.color].main}),(0,s.Z)(t,"&.".concat(N.disabled),{color:n.palette.action.disabled}),t))})),H=(0,S.jsx)(z,{}),L=(0,S.jsx)(j,{}),q=(0,S.jsx)(B,{}),G=a.forwardRef((function(e,t){var n,r,o=(0,O.Z)({props:e,name:"MuiCheckbox"}),c=o.checkedIcon,i=void 0===c?H:c,u=o.color,l=void 0===u?"primary":u,s=o.icon,p=void 0===s?L:s,h=o.indeterminate,v=void 0!==h&&h,b=o.indeterminateIcon,k=void 0===b?q:b,w=o.inputProps,x=o.size,Z=void 0===x?"medium":x,y=(0,d.Z)(o,T),C=v?k:p,D=v?k:i,E=(0,f.Z)({},o,{color:l,indeterminate:v,size:Z}),I=function(e){var t=e.classes,n=e.indeterminate,a=e.color,r={root:["root",n&&"indeterminate","color".concat((0,g.Z)(a))]},o=(0,m.Z)(r,P,t);return(0,f.Z)({},t,o)}(E);return(0,S.jsx)(M,(0,f.Z)({type:"checkbox",inputProps:(0,f.Z)({"data-indeterminate":v},w),icon:a.cloneElement(C,{fontSize:null!=(n=C.props.fontSize)?n:Z}),checkedIcon:a.cloneElement(D,{fontSize:null!=(r=D.props.fontSize)?r:Z}),ownerState:E,ref:t},y,{classes:I}))})),V=function(e){var t=e.data,n=e.startTime,r=e.endTime,c=e.currentDay,s=(0,a.useState)(!1),d=s[0],f=s[1],m=(0,l.Z)(function(){var e=(0,o.Z)(i().mark((function e(n,a){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.G.GoogleCalendarFilterExecutor.getCalendarById(t.id,n,a);case 2:return r=e.sent,o=r.items.filter((function(e){return console.info("new Date(item.start.dateTime).getMonth()",e.start.dateTime,c),console.info("asas",new Date(e.start.dateTime).getMonth(),new Date(e.start.dateTime).getDate()),console.info("asas",new Date(c).getMonth(),new Date(c).getDate()),new Date(e.start.dateTime).getMonth()===new Date(c).getMonth()&&new Date(e.start.dateTime).getDate()===new Date(c).getDate()})),l=void 0,l=(i=o).sort((function(e,t){return new Date(t.start.dateTime)-new Date(e.start.dateTime)})),console.info("sortBusySlot",i,l),e.abrupt("return",r);case 6:case"end":return e.stop()}var i,l}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]),p=m[1];return(0,a.useEffect)((function(){if(d){var e=new Date(r).getTime()+864e5;p(new Date(n).toISOString(),new Date(e).toISOString()).catch()}}),[d]),a.createElement("div",{className:"my-4"},a.createElement("div",{className:"flex items-center"},a.createElement(G,{checked:d,onChange:function(e){f(e.target.checked)},className:"mr-2"}),a.createElement("div",{className:"mx-4"},t.summary)))},_=n(3209),A=function(e){return a.createElement(_.Z,Object.assign({},e,{label:e.label,type:"date",sx:{width:220,marginRight:"12px"},InputLabelProps:{shrink:!0}}))},J=function(){var e=(0,a.useState)(""),t=e[0],n=e[1],c=(0,a.useState)([]),s=c[0],d=c[1],f=(0,a.useState)(""),m=f[0],p=f[1],h=(0,a.useState)(""),v=h[0],g=h[1],b=(0,a.useState)([]),k=b[0],w=b[1];!function(e,t){void 0===t&&(t=[]);var n=(0,l.Z)(e,t,{loading:!0}),r=n[0],o=n[1];(0,a.useEffect)((function(){o()}),[o])}((0,o.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.G.GoogleCalendarFilterExecutor.getCalendarList();case 2:return t=e.sent,w(t.items),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),[]);(0,a.useEffect)((function(){if(m.length>0&&v.length>0){var e=function(e,t){for(var n=[],a=new Date(e);a<=new Date(t);a.setDate(a.getDate()+1))n.push(new Date(a));return n}(new Date(m),new Date(v)).map((function(e){return e.toISOString().slice(0,10)}));d((0,r.Z)(e)),n(e[0])}}),[m,v]);var x=k.map((function(e,n){return a.createElement(V,{data:e,startTime:m,endTime:v,key:n,currentDay:t})})),Z=s.map((function(e){return a.createElement("div",{key:e,className:"h-[60px] w-[120px] flex items-center justify-center rounded-2xl cursor-pointer shadow-lg m-4 "+(t===e?"bg-[#cbe0f2]":""),onClick:function(){return t=e,console.info("handleChangeCurrentDay",t),void n(t);var t}},e)}));return a.createElement("div",{className:"p-4"},a.createElement("div",{className:"flex"},a.createElement(A,{value:m,onChange:function(e){p(e.target.value)},label:"start"}),a.createElement(A,{value:v,onChange:function(e){g(e.target.value)},label:"end"})),a.createElement("div",{className:"flex"},a.createElement("div",null,x),a.createElement("div",{className:"flex"},Z)))},K=function(){return a.createElement(J,null)}}}]);
//# sourceMappingURL=component---src-pages-demo-tsx-9a3b768890d5bbff7129.js.map